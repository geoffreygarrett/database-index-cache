# index-download-cache

Index Download and Cache, or `idc`, is a package purposed towards the indexing of online downloadable resource types in
the following categories: `file`, `compressed` and `route`. It alleviates the need to package large amounts of data in
projects that require models and data files.

## Example

[`tudat`](https://github.com/tudat-team/tudat) is a platform to perform astrodynamics and space research. At the core of
the library is the use of remote resources such as ephemeris data (tabulated position data of celestial objects),
atmosphere models and space weather data for simulation dynamics.

### Indexing

`index.yaml` file for the `tudat` library

````yaml
name: tudat  # assets will be cached in ~/.tudat

index:
  - name: sw-file
    type: file # or f
    url: http://www.celestrak.com/SpaceData/SW-Last5Years.txt

  - name: naif-route
    type: route # or r
    url: https://naif.jpl.nasa.gov/pub/naif/

  - name: legacy-compressed
    type: compressed # or c
    url: https://www.testing/resource.zip
````

Ok so let's break this down:

Assets can be of the types:
website indexes, such as NASA-NAIF's public data repository for spice.

````yaml
  - name: space-weather
    type: file # or f
    url: http://www.celestrak.com/SpaceData/SW-Last5Years.txt
````

files, such as txt data from Celestrak.

````yaml
  - name: naif
    type: route # or r
    url: https://naif.jpl.nasa.gov/pub/naif/
````

compressed, such as the legacy tudat data.

````yaml
  - name: legacy
    type: compressed # or c
    url: https://www.testing/resource.zip
````

### Downloading

The asset configuration can be loaded into code as:

````python
from idc import IndexClient

client = IndexClient.from_yaml('example-1.yaml')

resource_file_idx = client.space_weather # or client["space_weather"]
resource_file_path = resource_file_idx.get_path()

de435_path = client.naif["generic_kernels/spk/planets/de435.bsp"].get_path()

rkf45_path = client.legacy["spice_kernels"].get_path()
    
rkf45_path = client.legacy["spice_kernels/de435.bsp"].get_path()

````
### Caching

`cache.yaml` file for the `tudat` library

````yaml
# this file was autogenerated.
name: tudat  # assets will be cached in ~/.tudat

index:
  - name: sw-file
    type: file # or f
    url: http://www.celestrak.com/SpaceData/SW-Last5Years.txt

  - name: naif-route
    type: route # or r
    url: https://naif.jpl.nasa.gov/pub/naif/

  - name: legacy-compressed
    type: compressed # or c
    url: https://www.testing/resource.zip

````


````

For the case of website indexes:

- name: NASA-NAIF url: https://naif.jpl.nasa.gov/pub/naif/

path = assets.NAIF['/PHOBOS88/kernels/spk/iam2_r2.bsp']

~/.tudat/NAIF/PHOBOS88/kernels/spk/iam2_r2.bsp? Yes: Return path, No: Download - then return path.